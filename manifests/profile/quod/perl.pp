# Copyright (c) 2020 The Regents of the University of Michigan.
# All Rights Reserved. Licensed according to the terms of the Revised
# BSD License. See LICENSE.txt for details.

# nebula::profile::quod::perl
#
# Install perl dependencies for quod applications
#
# @example
#   include nebula::profile::quod::perl
class nebula::profile::quod::perl () {
  include nebula::profile::quod::dependencies

  package { [
    'libalgorithm-c3-perl',
    'libalgorithm-diff-perl',
    'libalgorithm-diff-xs-perl',
    'libalgorithm-merge-perl',
    'libany-moose-perl',
    'libapache-session-perl',
    'libappconfig-perl',
    'libapt-pkg-perl',
    'libarchive-zip-perl',
    'libauthen-sasl-perl',
    'libb-hooks-endofscope-perl',
    'libb-hooks-op-check-perl',
    'libbareword-filehandles-perl',
    'libbit-vector-perl',
    'libcaptcha-recaptcha-perl',
    'libcapture-tiny-perl',
    'libcarp-clan-perl',
    'libcgi-compile-perl',
    'libcgi-emulate-psgi-perl',
    'libcgi-pm-perl',
    'libclass-accessor-perl',
    'libclass-c3-perl',
    'libclass-c3-xs-perl',
    'libclass-data-accessor-perl',
    'libclass-data-inheritable-perl',
    'libclass-errorhandler-perl',
    'libclass-isa-perl',
    'libclass-load-perl',
    'libclass-load-xs-perl',
    'libclass-method-modifiers-perl',
    'libclass-singleton-perl',
    'libclass-std-perl',
    'libclass-tiny-perl',
    'libclass-xsaccessor-perl',
    'libclone-perl',
    'libcommon-sense-perl',
    'libconfig-auto-perl',
    'libconfig-file-perl',
    'libconfig-inifiles-perl',
    'libconfig-std-perl',
    'libconfig-tiny-perl',
    'libconvert-asn1-perl',
    'libconvert-binhex-perl',
    'libcrypt-openssl-bignum-perl',
    'libcrypt-openssl-random-perl',
    'libcrypt-openssl-rsa-perl',
    'libcrypt-rc4-perl',
    'libdata-optlist-perl',
    'libdata-validate-domain-perl',
    'libdate-calc-perl',
    'libdate-calc-xs-perl',
    'libdate-manip-perl',
    'libdatetime-locale-perl',
    'libdatetime-perl',
    'libdatetime-timezone-perl',
    'libdbd-mysql-perl',
    'libdbd-sqlite3-perl',
    'libdbi-perl',
    'libdevel-caller-perl',
    'libdevel-globaldestruction-perl',
    'libdevel-lexalias-perl',
    'libdevel-overloadinfo-perl',
    'libdevel-partialdump-perl',
    'libdevel-stacktrace-perl',
    'libdigest-hmac-perl',
    'libdist-checkconflicts-perl',
    'libdomain-publicsuffix-perl',
    'libdpkg-perl',
    'libemail-abstract-perl',
    'libemail-address-perl',
    'libemail-date-format-perl',
    'libemail-messageid-perl',
    'libemail-mime-contenttype-perl',
    'libemail-mime-encodings-perl',
    'libemail-mime-perl',
    'libemail-sender-perl',
    'libemail-simple-perl',
    'libemail-valid-perl',
    'libencode-locale-perl',
    'liberror-perl',
    'libeval-closure-perl',
    'libexception-class-perl',
    'libexporter-tiny-perl',
    'libfile-basedir-perl',
    'libfile-copy-recursive-perl',
    'libfile-fcntllock-perl',
    'libfile-find-rule-perl',
    'libfile-fnmatch-perl',
    'libfile-homedir-perl',
    'libfile-listing-perl',
    'libfile-next-perl',
    'libfile-pushd-perl',
    'libfile-slurp-perl',
    'libfile-stripnondeterminism-perl',
    'libfile-which-perl',
    'libfilesys-df-perl',
    'libfont-afm-perl',
    'libfont-freetype-perl',
    'libgssapi-perl',
    'libhtml-form-perl',
    'libhtml-format-perl',
    'libhtml-parser-perl',
    'libhtml-tagset-perl',
    'libhtml-template-perl',
    'libhtml-tiny-perl',
    'libhtml-tree-perl',
    'libhttp-cookies-perl',
    'libhttp-daemon-perl',
    'libhttp-date-perl',
    'libhttp-message-perl',
    'libhttp-negotiate-perl',
    'libimage-exiftool-perl',
    'libimage-magick-perl',
    'libimage-magick-q16-perl',
    'libimage-size-perl',
    'libimport-into-perl',
    'libindirect-perl',
    'libintl-perl',
    'libio-html-perl',
    'libio-pty-perl',
    'libio-socket-inet6-perl',
    'libio-socket-ip-perl',
    'libio-socket-ssl-perl',
    'libio-string-perl',
    'libio-stringy-perl',
    'libipc-run-perl',
    'libipc-shareable-perl',
    'libipc-system-simple-perl',
    'libjson-xs-perl',
    'liblexical-sealrequirehints-perl',
    'liblist-allutils-perl',
    'liblist-compare-perl',
    'liblist-moreutils-perl',
    'liblist-someutils-perl',
    'liblist-utilsby-perl',
    'liblocale-gettext-perl',
    'liblog-dispatch-perl',
    'liblog-log4perl-perl',
    'liblwp-mediatypes-perl',
    'liblwp-protocol-https-perl',
    'libmail-sendmail-perl',
    'libmailtools-perl',
    'libmarc-record-perl',
    'libmath-round-perl',
    'libmime-tools-perl',
    'libmime-types-perl',
    'libmodule-implementation-perl',
    'libmodule-pluggable-perl',
    'libmodule-runtime-conflicts-perl',
    'libmodule-runtime-perl',
    'libmoo-perl',
    'libmoose-perl',
    'libmoox-types-mooselike-perl',
    'libmouse-perl',
    'libmp3-info-perl',
    'libmro-compat-perl',
    'libmultidimensional-perl',
    'libnamespace-autoclean-perl',
    'libnamespace-clean-perl',
    'libnet-daemon-perl',
    'libnet-dns-perl',
    'libnet-domain-tld-perl',
    'libnet-http-perl',
    'libnet-idn-encode-perl',
    'libnet-ip-perl',
    'libnet-ldap-perl',
    'libnet-smtp-ssl-perl',
    'libnet-ssleay-perl',
    'libnet-z3950-zoom-perl',
    'libnumber-compare-perl',
    'libole-storage-lite-perl',
    'libossp-uuid-perl',
    'libpackage-deprecationmanager-perl',
    'libpackage-stash-perl',
    'libpackage-stash-xs-perl',
    'libpadwalker-perl',
    'libparams-classify-perl',
    'libparams-util-perl',
    'libparams-validate-perl',
    'libparams-validationcompiler-perl',
    'libparse-debianchangelog-perl',
    'libparse-recdescent-perl',
    'libperl4-corelibs-perl',
    'libreadonly-perl',
    'libreadonly-xs-perl',
    'libregexp-assemble-perl',
    'librole-tiny-perl',
    'libscalar-list-utils-perl',
    'libsocket-perl',
    'libsocket6-perl',
    'libsort-naturally-perl',
    'libspecio-perl',
    'libspreadsheet-writeexcel-perl',
    'libstrictures-perl',
    'libsub-exporter-perl',
    'libsub-exporter-progressive-perl',
    'libsub-identify-perl',
    'libsub-install-perl',
    'libsub-name-perl',
    'libswitch-perl',
    'libsys-hostname-long-perl',
    'libtask-weaken-perl',
    'libtemplate-perl',
    'libterm-readkey-perl',
    'libtest-fatal-perl',
    'libtest-nowarnings-perl',
    'libtest-requires-perl',
    'libtext-charwidth-perl',
    'libtext-csv-xs-perl',
    'libtext-glob-perl',
    'libtext-iconv-perl',
    'libtext-levenshtein-perl',
    'libtext-unidecode-perl',
    'libtext-wrapi18n-perl',
    'libthrowable-perl',
    'libtie-ixhash-perl',
    'libtimedate-perl',
    'libtry-tiny-perl',
    'libtypes-serialiser-perl',
    'libunicode-string-perl',
    'libuniversal-require-perl',
    'liburi-perl',
    'libuuid-perl',
    'libuuid-tiny-perl',
    'libvariable-magic-perl',
    'libwww-curl-perl',
    'libwww-perl',
    'libwww-robotrules-perl',
    'libxml-libxml-perl',
    'libxml-libxslt-perl',
    'libxml-namespacesupport-perl',
    'libxml-parser-perl',
    'libxml-sax-base-perl',
    'libxml-sax-expat-perl',
    'libxml-sax-perl',
    'libxml-simple-perl',
    'libxml-twig-perl',
    'libxml-writer-perl',
    'libxml-xpath-perl',
    'libxml-xpathengine-perl',
    'libyaml-appconfig-perl',
    'libyaml-libyaml-perl',
    'libyaml-perl',
    'libyaml-syck-perl',
    'xmlformat-perl']:
  }

  -> nebula::cpan { [
    'Algorithm::LUHN',
    'Captcha::reCAPTCHA',
    'DBD::Oracle',
    'Domain::PublicSuffix',
    'File::ANVL',
    'File::Namaste',
    'File::Pairtree',
    'File::Value',
    'Mail::Sender',
    'Module::Build',
    'Net::IDN::Encode',
    'OAuth::Lite']:
  }

  file { '/etc/profile.d/perl-include.sh':
    ensure  => 'file',
    content => template('nebula/profile/quod/etc/profile.d/perl-include.sh.erb'),
  }

}
